{"openapi":"3.0.1","info":{"title":"Schema service API","description":"Schema as service public API","contact":{"name":"Zeta","email":"support@zeta.in"},"license":{"name":"Apache 2.0","url":"http://springdoc.org"},"version":"0.0.7"},"servers":[{"url":"https://schaas.app-infra.internal.mum1-stage.zeta.in","description":"Generated server url"}],"paths":{"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/versions":{"get":{"tags":["Schema Management"],"summary":"get schema all version","description":"get all version of schema for particular tenant, sandbox and subject","operationId":"getAllVersions","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"AccountHolder"}],"responses":{"200":{"description":"schema's all versions","content":{"application/json":{"schema":{"type":"array","items":{"type":"integer"}},"examples":{"sample response payload":{"description":"list of versions","value":[1,2,3]}}}}},"default":{"description":"no schema version exist for tenant id and sandbox id","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}},"examples":{"no schema version exist":{"description":"no schema version exist","value":[]}}}}}},"security":[{"Authorization":["apiSchema.readAll"]},{"X-Zeta-Authtoken":["apiSchema.readAll"]}]},"post":{"tags":["Schema Management"],"summary":"create schema","description":"create schema for particular tenant, sandbox, subject","operationId":"createSchemaVersion","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"}],"requestBody":{"description":"body payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"json Payload":{"description":"json Payload","value":{"type":"object","title":"Circle","required":["center","radius"],"properties":{"center":{"type":"object","required":["x","y"],"properties":{"x":{"type":"number","description":"x-coordinate of center"},"y":{"type":"number","description":"y-coordinate of center"}}},"radius":{"type":"number","exclusiveMinimum":0}},"description":"test circle schema"}}}}},"required":true},"responses":{"200":{"description":"created schema","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"sample response payload":{"description":"schema object","value":{"id":6,"tenantId":1234,"sandboxId":12356,"version":1,"schemaJson":{"type":"object","title":"Circle","required":["center","radius"],"properties":{"center":{"type":"object","required":["x","y"],"properties":{"x":{"type":"number","description":"x-coordinate of center"},"y":{"type":"number","description":"y-coordinate of center"}}},"radius":{"type":"number","exclusiveMinimum":0}},"description":"test circle schema"},"createdAt":"2021-05-18T05:12:22.630+00:00"}}}}}},"500":{"description":"create schema failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of create schema":{"summary":"response of create schema","description":"response of create schema","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSchema.create"]},{"X-Zeta-Authtoken":["apiSchema.create"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/versions/{version}":{"get":{"tags":["Schema Management"],"summary":"get version schema","description":"get versioned schema for particular tenant, sandbox, subject and version","operationId":"getSchemaByVersion","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"},{"name":"version","in":"path","description":"version","required":true,"schema":{"type":"integer","format":"int32"},"example":1}],"responses":{"200":{"description":"schema response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"sample response payload":{"description":"schema object","value":{"id":6,"tenantId":1234,"sandboxId":12356,"version":1,"schemaJson":{"type":"object","title":"Circle","required":["center","radius"],"properties":{"center":{"type":"object","required":["x","y"],"properties":{"x":{"type":"number","description":"x-coordinate of center"},"y":{"type":"number","description":"y-coordinate of center"}}},"radius":{"type":"number","exclusiveMinimum":0}},"description":"test circle schema"},"createdAt":"2021-05-18T05:12:22.630+00:00"}}}}}},"404":{"description":"schema not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"get schema":{"summary":"response of get schema","description":"get schema","value":{"errorCode":"D012","errorType":"SCHEMA_NOT_FOUND","message":"schema not Found","displayMessage":null}}}}}},"500":{"description":"create get failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get schema":{"summary":"response of get schema","description":"response of get schema","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSchema.read"]},{"X-Zeta-Authtoken":["apiSchema.read"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/versions/latest":{"get":{"tags":["Schema Management"],"summary":"get latest schema","description":"get latest schema for particular tenant, sandbox and subject","operationId":"getLatestSchema","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"}],"responses":{"200":{"description":"schema response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"sample response payload":{"description":"schema object","value":{"id":6,"tenantId":1234,"sandboxId":12356,"version":1,"schemaJson":{"type":"object","title":"Circle","required":["center","radius"],"properties":{"center":{"type":"object","required":["x","y"],"properties":{"x":{"type":"number","description":"x-coordinate of center"},"y":{"type":"number","description":"y-coordinate of center"}}},"radius":{"type":"number","exclusiveMinimum":0}},"description":"test circle schema"},"createdAt":"2021-05-18T05:12:22.630+00:00"}}}}}},"404":{"description":"schema not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"get schema":{"summary":"response of get schema","description":"get schema","value":{"errorCode":"D012","errorType":"SCHEMA_NOT_FOUND","message":"schema not Found","displayMessage":null}}}}}},"500":{"description":"get schema failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get schema":{"summary":"response of get schema","description":"response of get schema","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSchema.read"]},{"X-Zeta-Authtoken":["apiSchema.read"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/versions/{version}/schema":{"get":{"tags":["Schema Management"],"summary":"get version schema payload","description":"get versioned schema payload for particular tenant, sandbox, subject and version","operationId":"getSchemaPayloadByVersion","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":3},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo.circle"},{"name":"version","in":"path","description":"version","required":true,"schema":{"type":"integer","format":"int32"},"example":1}],"responses":{"200":{"description":"schema payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"sample response payload":{"description":"schema payload","value":{"type":"object","title":"Circle","required":["center","radius"],"properties":{"center":{"type":"object","required":["x","y"],"properties":{"x":{"type":"number","description":"x-coordinate of center"},"y":{"type":"number","description":"y-coordinate of center"}}},"radius":{"type":"number","exclusiveMinimum":0}},"description":"test circle schema"}}}}}},"404":{"description":"schema not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"get schema":{"summary":"response of get schema","description":"get schema","value":{"errorCode":"D012","errorType":"SCHEMA_NOT_FOUND","message":"schema not Found","displayMessage":null}}}}}},"500":{"description":"get schema failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get schema":{"summary":"response of get schema","description":"response of get schema","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSchema.read"]},{"X-Zeta-Authtoken":["apiSchema.read"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/versions/latest/schema":{"get":{"tags":["Schema Management"],"summary":"get latest schema payload","description":"get latest schema payload for particular tenant, sandbox and subject","operationId":"getLatestSchemaPayload","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":123},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":123},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo.circle"}],"responses":{"200":{"description":"schema payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"sample response payload":{"description":"schema payload","value":{"type":"object","title":"Circle","required":["center","radius"],"properties":{"center":{"type":"object","required":["x","y"],"properties":{"x":{"type":"number","description":"x-coordinate of center"},"y":{"type":"number","description":"y-coordinate of center"}}},"radius":{"type":"number","exclusiveMinimum":0}},"description":"test circle schema"}}}}}},"404":{"description":"schema not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"get schema":{"summary":"response of get schema","description":"get schema","value":{"errorCode":"D012","errorType":"SCHEMA_NOT_FOUND","message":"schema not Found","displayMessage":null}}}}}},"500":{"description":"get schema failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get schema":{"summary":"response of get schema","description":"response of get schema","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSchema.read"]},{"X-Zeta-Authtoken":["apiSchema.read"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/versions/{version}/schema/validate":{"post":{"tags":["Schema Management"],"summary":"apply version schema","description":"apply versioned schema for particular tenant, sandbox, subject and version","operationId":"validateAgainstSchemaByVersion","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":3},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo.circle"},{"name":"version","in":"path","description":"version","required":true,"schema":{"type":"integer","format":"int32"},"example":1}],"requestBody":{"description":"json body payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"payload to validate":{"description":"payload to validate","value":{"center":{"x":1,"y":2},"radius":2}}}}},"required":true},"responses":{"200":{"description":"validated payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"sample response payload":{"description":"schema validation response","value":[]}}}}},"404":{"description":"schema not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"get schema":{"summary":"response of get schema","description":"get schema","value":{"errorCode":"D012","errorType":"SCHEMA_NOT_FOUND","message":"schema not Found","displayMessage":null}}}}}},"500":{"description":"apply schema failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of apply schema":{"summary":"response of apply schema","description":"response of apply schema","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSchema.validate"]},{"X-Zeta-Authtoken":["apiSchema.validate"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/versions/latest/schema/validate":{"post":{"tags":["Schema Management"],"summary":"apply latest schema","description":"apply latest schema for particular tenant, sandbox, subject and version","operationId":"validateAgainstSchemaByVersion_1","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":3},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo.circle"}],"requestBody":{"description":"json body payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"payload to validate":{"description":"payload to validate","value":{"center":{"x":1,"y":2},"radius":2}}}}},"required":true},"responses":{"200":{"description":"validated payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"sample response payload":{"description":"schema validation response","value":[]}}}}},"404":{"description":"schema not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Schema"},"examples":{"get schema":{"summary":"response of get schema","description":"get schema","value":{"errorCode":"D012","errorType":"SCHEMA_NOT_FOUND","message":"schema not Found","displayMessage":null}}}}}},"500":{"description":"apply schema failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of apply schema":{"summary":"response of apply schema","description":"response of apply schema","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSchema.validate"]},{"X-Zeta-Authtoken":["apiSchema.validate"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}":{"get":{"tags":["Subject Management"],"summary":"get Subject","description":"get subject","operationId":"getSubject","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"}],"responses":{"200":{"description":"get call response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subject"},"examples":{"response of get subject":{"summary":"response of get subject","description":"response of get subject","value":{"id":"demo5","tenantId":1234,"sandboxId":12356,"description":"demo","createdAt":"2021-05-17T11:06:23.201+00:00","updatedAt":"2021-05-17T11:06:23.201+00:00"}}}}}},"404":{"description":"subject not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get subject":{"summary":"response of get subject","description":"response of get subject","value":{"errorCode":"D014","errorType":"SUBJECT_NOT_FOUND","message":"subject not Found","displayMessage":null}}}}}},"500":{"description":"get subject failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get subject":{"summary":"response of get subject","description":"response of get subject","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSubject.read"]},{"X-Zeta-Authtoken":["apiSubject.read"]}]},"put":{"tags":["Subject Management"],"summary":"update Subject","description":"update subject","operationId":"updateSubject","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"}],"requestBody":{"description":"update request body payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSubjectRequest"},"examples":{"sample update request body object":{"summary":"sample request body","description":"sample request body","value":{"description":"test"}}}}},"required":true},"responses":{"204":{"description":"update subject response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subject"},"examples":{"response of update subject":{"summary":"response of update subject","description":"response of update subject","value":{"id":"demo5","tenantId":1234,"sandboxId":12356,"description":"test","createdAt":"2021-05-17T11:06:23.201+00:00","updatedAt":"2021-05-17T11:06:23.201+00:00"}}}}}},"404":{"description":"subject not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get subject":{"summary":"response of get subject","description":"response of get subject","value":{"errorCode":"D014","errorType":"SUBJECT_NOT_FOUND","message":"subject not Found","displayMessage":null}}}}}},"500":{"description":"update subject failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of update subject":{"summary":"response of update subject","description":"response of update subject","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSubject.update"]},{"X-Zeta-Authtoken":["apiSubject.update"]}]},"delete":{"tags":["Subject Management"],"summary":"delete Subject","description":"delete subject","operationId":"deleteSubject","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo.circle.test"},{"name":"forceDelete","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"204":{"description":"deleted subject response","content":{"application/json":{"examples":{"sample response payload":{"description":"Subject","value":{}}}}}},"500":{"description":"delete subject failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of delete subject":{"summary":"response of delete subject","description":"response of delete subject","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSubject.delete"]},{"X-Zeta-Authtoken":["apiSubject.delete"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects":{"get":{"tags":["Subject Management"],"summary":"get all Subject Ids","description":"get all Subject Ids","operationId":"getAllSubjectIds","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356}],"responses":{"200":{"description":"subject ids list","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}},"examples":{"sample response payload":{"description":"list of subjectIds","value":["in.zeta.test"]}}}}},"default":{"description":"no subject ids exist for tenant id and sandbox id","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}},"examples":{"no subject ids created":{"description":"no subject ids created","value":[]}}}}}},"security":[{"Authorization":["apiSubject.readAll"]},{"X-Zeta-Authtoken":["apiSubject.readAll"]}]},"post":{"tags":["Subject Management"],"summary":"create Subject","description":"create subject","operationId":"addSubject","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356}],"requestBody":{"description":"request body payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddSubjectRequest"},"examples":{"sample create request body object":{"summary":"sample request body","description":"sample request body","value":{"id":"demo5","description":"demo"}}}}},"required":true},"responses":{"200":{"description":"created subject response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subject"},"examples":{"response of create subject":{"summary":"response of create subject","description":"response of create subject","value":{"id":"demo5","tenantId":1234,"sandboxId":12356,"description":"demo","createdAt":"2021-05-17T11:06:23.201+00:00","updatedAt":"2021-05-17T11:06:23.201+00:00"}}}}}},"400":{"description":"subject already exits","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of create subject":{"summary":"response of create subject","description":"response of create subject","value":{"errorCode":"D013","errorType":"SUBJECT_ALREADY_EXIST","message":"Subject already exist","displayMessage":null}}}}}},"500":{"description":"add subject failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of create subject":{"summary":"response of create subject","description":"response of create subject","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiSubject.create"]},{"X-Zeta-Authtoken":["apiSubject.create"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/views":{"get":{"tags":["View Management"],"summary":"get all View Ids","description":"get all View Ids for particular tenant, sandbox and subject","operationId":"getAllViews","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"in.zeta.test"}],"responses":{"200":{"description":"view ids","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}},"examples":{"sample response payload":{"description":"view ids","value":["in.zeta.test"]}}}}},"default":{"description":"no view ids exist for tenant id , subject id and sandbox id","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}},"examples":{"no view ids created":{"description":"no view ids created","value":[]}}}}}},"security":[{"Authorization":["apiView.readAll"]},{"X-Zeta-Authtoken":["apiView.readAll"]}]},"post":{"tags":["View Management"],"summary":"Create view","description":"Create view for particular tenant, sandbox and subject","operationId":"addView","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"}],"requestBody":{"description":"add view request body payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddViewRequest"},"examples":{"add view request body":{"summary":"add view request body","description":"add view request body","value":{"viewId":"test","tenantId":0,"sandboxId":0,"template":" { \"key\": \"<%= data.key %>\" }"}}}}},"required":true},"responses":{"201":{"description":"created view","content":{"application/json":{"schema":{"$ref":"#/components/schemas/View"},"examples":{"create view":{"summary":"response of create view","description":"create view","value":{"id":6,"viewId":"test","name":null,"description":null,"tenantId":1234,"sandboxId":12356,"createdAt":"2021-05-18T04:55:22.835Z","template":" { \"key\": \"<%= data.key %>\" }","version":1}}}}}},"500":{"description":"create view failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of create view":{"summary":"response of create view","description":"response of create view","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiView.create"]},{"X-Zeta-Authtoken":["apiView.create"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/views/{viewId}/latest":{"get":{"tags":["View Management"],"summary":"get latest view for view id","description":"get latest view for view id","operationId":"getLatestView","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"},{"name":"viewId","in":"path","description":"view id","required":true,"schema":{"type":"string"},"example":"test"}],"responses":{"200":{"description":"view response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/View"},"examples":{"get view":{"summary":"response of get view","description":"get view","value":{"id":6,"viewId":"test","name":null,"description":null,"tenantId":1234,"sandboxId":12356,"createdAt":"2021-05-18T04:55:22.835Z","template":" { \"key\": \"<%= data.key %>\" }","version":1}}}}}},"404":{"description":"view not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/View"},"examples":{"get view":{"summary":"response of get view","description":"get view","value":{"errorCode":"D003","errorType":"VIEW_NOT_FOUND","message":"View not Found","displayMessage":null}}}}}},"500":{"description":"get view failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get view":{"summary":"response of get view","description":"response of get view","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiView.read"]},{"X-Zeta-Authtoken":["apiView.read"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/views/{viewId}/versions/{version}":{"get":{"tags":["View Management"],"summary":"get version view for view id","description":"get version view for view id","operationId":"getViewByVersion","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"},{"name":"viewId","in":"path","description":"view id","required":true,"schema":{"type":"string"},"example":"test"},{"name":"version","in":"path","description":"version","required":true,"schema":{"type":"integer","format":"int32"},"example":1}],"responses":{"200":{"description":"view response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/View"},"examples":{"get view":{"summary":"response of get view","description":"get view","value":{"id":6,"viewId":"test","name":null,"description":null,"tenantId":1234,"sandboxId":12356,"createdAt":"2021-05-18T04:55:22.835Z","template":" { \"key\": \"<%= data.key %>\" }","version":1}}}}}},"404":{"description":"view not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/View"},"examples":{"get view":{"summary":"response of get view","description":"get view","value":{"errorCode":"D003","errorType":"VIEW_NOT_FOUND","message":"View not Found","displayMessage":null}}}}}},"500":{"description":"get view failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of get view":{"summary":"response of get view","description":"response of get view","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiView.read"]},{"X-Zeta-Authtoken":["apiView.read"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/views/{viewId}/versions/{version}/apply":{"post":{"tags":["View Management"],"summary":"apply version view","description":"apply version view","operationId":"applyViewByVersion","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"},{"name":"viewId","in":"path","description":"view id","required":true,"schema":{"type":"string"},"example":"test"},{"name":"version","in":"path","description":"version","required":true,"schema":{"type":"integer","format":"int32"},"example":1}],"requestBody":{"description":"json body payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"json payload data":{"summary":"json payload data","description":"json payload data","value":{"key":"rahul"}}}}},"required":true},"responses":{"200":{"description":"apply view","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"apply view":{"summary":"response of apply view","description":"apply view","value":{"key":"rahul"}}}}}},"404":{"description":"view not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/View"},"examples":{"get view":{"summary":"response of get view","description":"get view","value":{"errorCode":"D003","errorType":"VIEW_NOT_FOUND","message":"View not Found","displayMessage":null}}}}}},"500":{"description":"apply view failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of apply view":{"summary":"response of apply view","description":"response of apply view","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiView.apply"]},{"X-Zeta-Authtoken":["apiView.apply"]}]}},"/api/v1/tenants/{tenantId}/sandboxes/{sandboxId}/subjects/{subjectId}/views/{viewId}/latest/apply":{"post":{"tags":["View Management"],"summary":"apply latest view for view id","description":"apply latest view for view id","operationId":"applyViewByVersion_1","parameters":[{"name":"tenantId","in":"path","description":"tenant id","required":true,"schema":{"type":"integer","format":"int64"},"example":1234},{"name":"sandboxId","in":"path","description":"sandbox id","required":true,"schema":{"type":"integer","format":"int64"},"example":12356},{"name":"subjectId","in":"path","description":"subject id","required":true,"schema":{"type":"string"},"example":"demo5"},{"name":"viewId","in":"path","description":"view id","required":true,"schema":{"type":"string"},"example":"test"}],"requestBody":{"description":"json body payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"json payload":{"summary":"json payload","description":"json payload","value":{"key":"rahul"}}}}},"required":true},"responses":{"200":{"description":"apply view","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"},"examples":{"apply view":{"summary":"response of apply view","description":"apply view","value":{"key":"rahul"}}}}}},"404":{"description":"view not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/View"},"examples":{"get view":{"summary":"response of get view","description":"get view","value":{"errorCode":"D003","errorType":"VIEW_NOT_FOUND","message":"View not Found","displayMessage":null}}}}}},"500":{"description":"create apply failure","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"response of apply view":{"summary":"response of apply view","description":"response of apply view","value":{"errorCode":"D000","errorType":"INTERNAL_SERVER_ERROR","message":"Unexpected error occurred on server","displayMessage":null}}}}}}},"security":[{"Authorization":["apiView.apply"]},{"X-Zeta-Authtoken":["apiView.apply"]}]}}},"components":{"schemas":{"JsonNode":{"type":"object"},"Schema":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"tenantId":{"type":"integer","format":"int64"},"sandboxId":{"type":"integer","format":"int64"},"version":{"type":"integer","format":"int32"},"schemaJson":{"$ref":"#/components/schemas/JsonNode"},"createdAt":{"type":"string","format":"date-time"}}},"ErrorResponse":{"type":"object","properties":{"errorCode":{"type":"string"},"errorType":{"type":"string"},"message":{"type":"string"},"displayMessage":{"type":"string"}}},"Subject":{"type":"object","properties":{"id":{"type":"string"},"tenantId":{"type":"integer","format":"int64"},"sandboxId":{"type":"integer","format":"int64"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"AddSubjectRequest":{"required":["id"],"type":"object","properties":{"id":{"type":"string"},"description":{"type":"string"}}},"UpdateSubjectRequest":{"required":["description"],"type":"object","properties":{"description":{"type":"string"}}},"View":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"viewId":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"tenantId":{"type":"integer","format":"int64"},"sandboxId":{"type":"integer","format":"int64"},"createdAt":{"type":"integer","format":"int64"},"template":{"type":"string"},"version":{"type":"integer","format":"int32"}}},"AddViewRequest":{"required":["name","template","viewId"],"type":"object","properties":{"viewId":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"template":{"type":"string"}}}},"securitySchemes":{"Authorization":{"type":"apiKey","description":"api key to access API","name":"Authorization","in":"header"},"X-Zeta-Authtoken":{"type":"apiKey","description":"api key to access API","name":"X-Zeta-Authtoken","in":"header"}}}}